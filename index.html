<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700;800&family=Roboto:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
    <title>Vue Boolzapp</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="./asset/css/style.css">
</head>
<body>

    <div id="app">

        <div class="container">
            
            <div class="division">
                <!--Lista Chat e profilo utente-->
                <div class="chat-list col-4 h-100">
                    <!--Profilo utente-->
                    <div class="site-head-left d-flex justify-content-between align-items-center p-2 bg-light">

                        <div>
                            <img class="user-image" src="./asset/img/avatar_io.jpg" alt="Sofia">
                            <span class="ps-2 fw-medium">Sofia</span>
                        </div>
                        <div>
                            <svg class="icon" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"/></svg>
                            <svg class="icon" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M64 0C28.7 0 0 28.7 0 64V352c0 35.3 28.7 64 64 64h96v80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64z"/></svg>
                            <svg class="icon" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 128 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"/></svg>
                        </div>

                    </div>
                    <!--Attiva le notifiche-->
                    <div class="enable-notification d-flex justify-content-start align-items-center p-2">

                        <svg class="bell" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7l-87.5-68.6c.5-1.7 .7-3.5 .7-5.4c0-27.6-11-54.1-30.5-73.7L512 320c-20.5-20.5-32-48.3-32-77.3V208c0-77.4-55-142-128-156.8V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V51.2c-42.6 8.6-79 34.2-102 69.3L38.8 5.1zM160 242.7c0 29-11.5 56.8-32 77.3l-1.5 1.5C107 341 96 367.5 96 395.2c0 11.5 9.3 20.8 20.8 20.8H406.2L160 222.1v20.7zM384 448H320 256c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7s18.7-28.3 18.7-45.3z"/></svg>
                        <div>
                            <span>Ricevi notifiche di nuovi messaggi</span>
                            <button class="desktop-notification border-0 text-decoration-underline">Attiva notifiche desktop</button>
                        </div>

                    </div>
                    <!--Cerca conversazioni-->
                    <div class="search-conversation input-group p-2 bg-light">

                        <span class="zoom h-100 input-group-text border-0" id="inputGroup-sizing-default">
                            <svg class="icon" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
                        </span>
                        <input type="text" class="form-control h-100 border-0" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" placeholder="Cerca o inizia una nuova chat">

                    </div>
                    <!--Conversazioni recenti-->
                    <div class="recently-conversation">

                        <div class="card-user p-2 d-flex justify-content-between align-items-center" v-for="(contact, index) in contacts" :class="index == activeContact ? 'lightgrey' : '' " @click="activeFriendChat(index)">
                            <div class="d-flex justify-content-start align-items-center">
                                <img class="user-image" v-bind:src="contact.avatar" alt="User Image">
                                <div>
                                    <span class="ps-2 fw-medium">{{contact.name}}</span>
                                    <p class="last-message ps-2 m-0">{{contact.messages[contact.messages.length - 1].message}}</p>
                                </div>
                            </div>
                            <p class="last-message mb-0 pe-2">12:00</p>   
                        </div>
                        
                    </div>

                </div>
                

                <!--Chat principale-->
                <div class="main-chat col-8">
                    <!--Profilo utente della conversazione attiva-->
                    <div class="site-head-right d-flex justify-content-between align-items-center p-2 bg-light">

                        <div class="card-user d-flex justify-content-start align-items-center bg-light">
                            <img class="user-image" :src="contacts[activeContact].avatar" alt="Active User Image">
                            <div>
                                <span class="ps-2 fw-medium">{{contacts[activeContact].name}}</span>
                                <p class="last-message ps-2 m-0">Ultimo accesso oggi alle 12:00</p>
                            </div>    
                        </div>
                        <div>
                            <svg class="icon" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
                            <svg class="icon" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M364.2 83.8c-24.4-24.4-64-24.4-88.4 0l-184 184c-42.1 42.1-42.1 110.3 0 152.4s110.3 42.1 152.4 0l152-152c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-152 152c-64 64-167.6 64-231.6 0s-64-167.6 0-231.6l184-184c46.3-46.3 121.3-46.3 167.6 0s46.3 121.3 0 167.6l-176 176c-28.6 28.6-75 28.6-103.6 0s-28.6-75 0-103.6l144-144c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-144 144c-6.7 6.7-6.7 17.7 0 24.4s17.7 6.7 24.4 0l176-176c24.4-24.4 24.4-64 0-88.4z"/></svg>
                            <svg class="icon" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 128 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"/></svg>
                        </div>

                    </div>
                    <!--Lista messaggi della conversazione principale-->
                    <div class="main-conversation">

                        <div class="dropdown d-flex flex-column justify- align-items-end mt-5 me-5">
                            <a class="border-0 btn btn-secondary text-start text-black" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" v-for="(message, index) in contacts[activeContact].messages" v-bind:class=" message.status === 'sent' ? 'my-message' : '' ">
                              {{message.message}}
                              <p class="send mb-0 text-end">{{message.date}}</p>
                            </a>
                            <ul class="dropdown-menu">
                              
                            </ul>
                        </div>
                        
                        <div class="dropdown d-flex flex-column justify- align-items-start mt-3 ms-5">
                            <a class="border-0 btn btn-secondary text-start text-black" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" v-for="(message, index) in contacts[activeContact].messages" v-bind:class=" message.status === 'received' ? 'friend-message' : '' ">
                                {{message.message}}
                              <p class="send mb-0 text-end">{{message.date}}</p>
                            </a>
                            <ul class="dropdown-menu">
                              
                            </ul>
                        </div>

                    </div>
                    <!--Input dei nuovi messaggi-->
                    <div class="site-footer-right d-flex justify-content-evenly align-items-center p-2 bg-light">

                        <svg class="icon" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm177.6 62.1C192.8 334.5 218.8 352 256 352s63.2-17.5 78.4-33.9c9-9.7 24.2-10.4 33.9-1.4s10.4 24.2 1.4 33.9c-22 23.8-60 49.4-113.6 49.4s-91.7-25.5-113.6-49.4c-9-9.7-8.4-24.9 1.4-33.9s24.9-8.4 33.9 1.4zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>

                        <input class="w-100 ms-2 me-2 border-0" type="text" v-model="addMessage" @keyup.enter="addMessage" placeholder="Scrivi un messaggio">

                        <svg  id="newMessage" class="icon" @click.enter="addMessage" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M16.1 260.2c-22.6 12.9-20.5 47.3 3.6 57.3L160 376V479.3c0 18.1 14.6 32.7 32.7 32.7c9.7 0 18.9-4.3 25.1-11.8l62-74.3 123.9 51.6c18.9 7.9 40.8-4.5 43.9-24.7l64-416c1.9-12.1-3.4-24.3-13.5-31.2s-23.3-7.5-34-1.4l-448 256zm52.1 25.5L409.7 90.6 190.1 336l1.2 1L68.2 285.7zM403.3 425.4L236.7 355.9 450.8 116.6 403.3 425.4z"/></svg>

                    </div>
                
                </div>

            </div>

        </div>

    </div>

    <script src='https://unpkg.com/vue@3/dist/vue.global.js'></script>
    <script src="./asset/js/script.js"></script>
</body>
</html>